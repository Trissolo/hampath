!function(){function a(a,b){for(var c={},d=[],e=0;b>e;e++){d.push([]);for(var f=0;a>f;f++)d[e].push(e%2===0?f===a-1?[f,e+1]:[f+1,e]:0===f?[f,e+1]:[f-1,e])}return c.start=[0,0],c.end=e%2===0?[0,b-1]:[a-1,b-1],d[c.end[1]][c.end[0]]=[-1,-1],c.data=d,c.width=a,c.height=b,c}function b(a){for(var b,c=a.start,d=a.data,e=d[0].length,f=d.length,g=[[0,-1],[1,0],[0,1],[-1,0]],h=!1;!h;)h=!0,b=g[Math.floor(4*Math.random())],c[0]+b[0]<0||c[0]+b[0]>e-1||c[1]+b[1]<0||c[1]+b[1]>f-1?h=!1:d[c[1]][c[0]][0]===c[0]+b[0]&&d[c[1]][c[0]][1]===c[1]&&(h=!1);var i=[d[c[1]][c[0]][0],d[c[1]][c[0]][1]];d[c[1]][c[0]][0]=c[0]+b[0],d[c[1]][c[0]][1]=c[1]+b[1];for(var j=[c[0],c[1]],k=[c[0],c[1]],l=[i[0],i[1]];l[0]!==c[0]+b[0]||l[1]!==c[1]+b[1];)j[0]=k[0],j[1]=k[1],k[0]=l[0],k[1]=l[1],l[0]=d[k[1]][k[0]][0],l[1]=d[k[1]][k[0]][1],d[k[1]][k[0]][0]=j[0],d[k[1]][k[0]][1]=j[1];c[0]=k[0],c[1]=k[1]}function c(a){var b=a.start,c=a.end,d=a.data,e=[b[0],b[1]],f=[b[0],b[1]],g=[d[b[1]][b[0]][0],d[b[1]][b[0]][1]];d[b[1]][b[0]][0]=-1,d[b[1]][b[0]][1]=-1,c[0]=b[0],c[1]=b[1];do e[0]=f[0],e[1]=f[1],f[0]=g[0],f[1]=g[1],g[0]=d[f[1]][f[0]][0],g[1]=d[f[1]][f[0]][1],d[f[1]][f[0]][0]=e[0],d[f[1]][f[0]][1]=e[1];while(-1!==g[0]||-1!==g[1]);b[0]=f[0],b[1]=f[1]}function d(a){var b=a.data,c=[],d=[a.start[0],a.start[1]],e=[a.start[0],a.start[1]];do d[0]=e[0],d[1]=e[1],c.push([d[0],d[1]]),e[0]=b[d[1]][d[0]][0],e[1]=b[d[1]][d[0]][1];while(-1!==e[0]||-1!==e[1]);a.data=c}function e(e){e=e||{};for(var f=e.width||8,g=e.height||8,h=a(f,g),i=0,j=0;f*f*g*g*.1>j;j++)(j+1)%20===0&&c(h),b(h),i++;return d(h),h}function f(a,b){b=b||{};var c=b.width||30,d=b.color||"rgba(0,0,0,1)",e=b.background||"rgba(0,0,0,0)",f=b.thickness||.5,g=(a.data.length,c/a.width),h=document.createElement("canvas");h.width=c,h.height=c*a.height/a.width;var i=h.getContext("2d");i.fillStyle=e,i.fillRect(0,0,h.width,h.height),i.strokeStyle=d,i.lineWidth=Math.round(c/a.width*f),i.beginPath(),i.moveTo((a.data[0][0]+.5)*g,(a.data[0][1]+.5)*g);for(var j=0;j<a.data.length;j++)i.lineTo((a.data[j][0]+.5)*g,(a.data[j][1]+.5)*g);return i.stroke(),h}window.hampath={generate:e,draw:f}}();